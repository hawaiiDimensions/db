## 03.10.16 LIM - VLSB 5056
## modfy functions to return HDIM number instead of row indices - COMPLETE
## modify empty_list function to return adjusted row indices - COMPLETE
## look at Google R Style Guide (https://google.github.io/styleguide/Rguide.xml) - COMPLETE
## library(stringr) - NOTED
## str_split() can unpack date entries into a new dataframe for analysis - NOTED
## Use Jupyter notebook to initialize code and to introduce package to laymen
## Comprehensive list of Plot names located in Siteinfo Google Drive file - COMPLETE
## use source() to initialize all relevant functions from a seperate script file (.R) 
## output invalid entry information in a comprehensive list that can be returned with a wrapper function - COMPLETE

## 03.10.16 ROMINGER - HILGARD 305
## Function to return list of all mispellings and empty entries by HDIM number - COMPLETE
## Ways to source functions
## list.files(file_location)
## oldwd() < - setwd(new_directory)
## files2load <- c(file1, file2, file3)
## lapply(files2load, source)
## source(), setwd(oldwd)

## PERSONAL NOTES MARCH
## Look into contstructing a Shiny app with the database information
## To import google sheets as a .csv, use the url suffix "pub?gid=0&single=true&output=csv"
https://docs.google.com/spreadsheets/d/1Ve2NZwNuGMteQDOoewitaANfTDXLy8StoHOPv7uGmTM/pub?gid=0&single=true&output=csv

## 03.29.16 ROMINGER - HILGARD 305
## Write a wrapper function for diagnose db for colEvent - COMPLETE
## Develop package with the written functions 
## Write functions that do automated corrections that creates new corrected dataframe and with also notes for what 
## was corrected.
## Check for duplicated HDIM numbers - COMPLETE
## Integrate photos with the database and site 
## Possible project: Shiny app of ecological data integrated with geographic data

## PERSONAL NOTES APRIL
## Possible field project: subterranean arthropod survey under the dimensions in biodiversity grant.
## Such a project would involve an expedition(s) into the lava tubes underneath the rainforests of 
## the Big Island of Hawaii and would seek to gain an understanding of the native and invasive fauna of 
## the subterranean ecosystem of the Big Island through various sampling methods and next generation DNA
## sequencing.

## 04.11.16 ROMINGER - WELLMAN 220
## Integrate list of correct database entries into a spreadsheet file (.csv) to be referenced in the 
## database checker package functions.
## For the automatic database correction function, use the apply family of functions (sapply) instead of 
## a for loop.
## The lava tubes on the Big Island were briefly surveyed back in the 60s and 70s - many of the arthropod
## species within have been desginated as endangered species, which may make securing permits for future 
## expeditions problematic. 

## 04.19.16 MOTHUR_16S WORKSHOP - KOSHLAND 238
## New version of mothur just came out last week
## raw fastq reads -> quality trimming -> merge R1 & R2 reads -> cluster reads into OTUs -> organize reads into an OTU ## table -> higher-level analyses
## Amplicon processing issues: controls (positive/negative), pair reads or not, OTU binning, taxonomy assignments, low ## abundance OTUs
## SILVA most accurate database, although slower
## https://cgrlucb.wikispaces.com/16S+Amplicon+Sequencing+Data+Analysis+Workshop?responseToken=08be8900eac6b4a4c470840e35e7e9d5a

## 04.20.16 PERSONAL NOTES
## FUNCTION TO REPAIR INVALID DATE ENTRIES IN DATABASE
## function to repair invalid contingent factor entries by method in database

## 09.28.16
## Sourced values from synonym tables.

## 09.29.16 ROMINGER - HILGARD 305
##
## PACKAGE INITIALIZED
## > devtools::install_github('hawaiiDimensions/db/hdimDB')
## > library(hdimDB)
##
## Github Issues - LISTED
## - mispellings
## - time
## - examples not working
## 
## Create fake database for @example roxygen tag - COMPLETE
##
## Shiny app for dbChecker visualization

## 09.30.16 PERSONAL NOTES
## 
## Fixed error with arguments in mapply call
##
## 10.20.16 ROMINGER - HILGARD 305
## 1. Work on Shiny App 
##     a. Don't use rapply for Shiny error compilation Andy will 
##        push over script (compile_errors.R) to test.scripts folder - DONE
## 2. Add workspace to test.scripts - DONE
## 3. Write unit tests - STANDBY
## 4. Add synonym values to checkMisspell - DONE
##     a. To retrieve synonym urls, GoogleSheets -> File -> Publish to web -> url
##        change tag to: 'pub?output=csv' - NOTED

## 10.25.16 ROMINGER - HILGARD 305
##
## 1. Sum of beating durations for all samples in any given site in a sampling round should be 
##    exacty 420 seconds.
##
## 2. Check collector names in proper format with regex - ANDY WILL ASSEMBLE SYNONYM TABLE
##     a. Format: "Capitalized initial". "Capitalized surname"
##     b. Check if name matches with any of the known collector names
##     c. Check if name could be a misformatted collector name if no match
##
## 3. Unit Tests
##     a. hdimDB -> tests -> testthat - NOTED
##     b. Save fake.data as a dataframe in the binary R structure - DONE
##     c. Rename fake.data as test.data - DONE
##     d. New testthat files for dupHDIM and checkMisspell - DONE
##     e. Rewrite unit test for checkTime to run on fakeData - DONE
## 4. Shiny
##     a. Use Andy's implementation (located in workspace) 
##    
## Appendix: camelCase vs. snake_case

## 11.03.16 ROMINGER - HILGARD 305
##
## 1. Function to automate correction of plot names - DONE
##     a. Look at Andy's progress
##     b. Look at regex matching functions (e.g. is "x" in the cell value)
## 2. Autocorrecting method names - DONE
##     a. Look at regex matching functions
## 3. Generate wide-format reference dataframe tracking method metadata - WRITTEN WITH ROMINGER 
##     a. dbcleaning_2016-09-02.R in hawaiiDimensions/Db
##     b. Plot names as rownames
##     c. Method names as columnnames
##     d. Combine pitfall contingency columms with method using paste()
## 
## Appendix: Look at curtis_consolidate, Line 26 and on, for examples on regex expressions - NOT FOUND
##
## 11.18.16 ROMINGER - HILGARD 305
##
##  1. Ultimately change checkDb to output dataframe with HDIM, errTag, current value, suggested correction columns
##      a. Generic misspelling function(column) #find synonym table by itself
##      c. Change list() in checkDB to rBind() - DONE
##      d. Have helper functions output two-column dataframe first - DONE
##      e. Implement assignCorr with Generic function
##  2. Do the damn Shiny implementation
##
## 12.02.16 ROMINGER - HILGARD 305
##
##  1. Implement generic regex checker
##      a. "if" clauses in assignCorr
##      b. fix extractCorr
##  2. Store synonym table urls in the package - FIX THIS
##

